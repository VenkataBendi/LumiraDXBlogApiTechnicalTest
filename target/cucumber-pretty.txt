
Scenario Outline: Add a new category using id and name                                                # src/test/resources/featureFiles/Operations related to blog categories/addNewCategory.feature:12
  Given I have the number of categories present                                                       # steps.steps.getCountOfCategories()
  When I set the POST service endpoint for adding new blog category with id 31 and name "Photography" # steps.steps.addCategoryWithIdAndName(int,java.lang.String)
  Then check statusCode is 201                                                                        # steps.steps.checkStatusCodeIs(int)
  And check response content type is "application/json"                                               # steps.steps.responseContentTypeIs(java.lang.String)
  And check the number of categories is incremented by one                                            # steps.steps.checkCategoryListSizeAfterAddingNewCategory()
  And check get response for the name of the item with id 31 to be "Photography"                      # steps.steps.checkGetResponseForTheNameOfTheItemWithIdToBe(int,java.lang.String)
      org.junit.ComparisonFailure: expected:<[P]hotography> but was:<[]hotography>
	at org.junit.Assert.assertEquals(Assert.java:117)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at steps.steps.checkGetResponseForTheNameOfTheItemWithIdToBe(steps.java:98)
	at ✽.check get response for the name of the item with id 31 to be "Photography"(file:///C:/Users/Krishna/eclipse-workspace/LumiraDXblogAPI/src/test/resources/featureFiles/Operations%20related%20to%20blog%20categories/addNewCategory.feature:9)


Scenario Outline: Add a new category using id and name                                              # src/test/resources/featureFiles/Operations related to blog categories/addNewCategory.feature:24
  Given I have the number of categories present                                                     # steps.steps.getCountOfCategories()
  When I set the POST service endpoint for adding new blog category with id 32 and name " Wildlife" # steps.steps.addCategoryWithIdAndName(int,java.lang.String)
  Then check statusCode is 201                                                                      # steps.steps.checkStatusCodeIs(int)
  And check response content type is "application/json"                                             # steps.steps.responseContentTypeIs(java.lang.String)
  And check the number of categories is incremented by one                                          # steps.steps.checkCategoryListSizeAfterAddingNewCategory()
  And check get response for the name of the item with id 32 to be " Wildlife"                      # steps.steps.checkGetResponseForTheNameOfTheItemWithIdToBe(int,java.lang.String)
      org.junit.ComparisonFailure: expected:<[ ]Wildlife> but was:<[]Wildlife>
	at org.junit.Assert.assertEquals(Assert.java:117)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at steps.steps.checkGetResponseForTheNameOfTheItemWithIdToBe(steps.java:98)
	at ✽.check get response for the name of the item with id 32 to be " Wildlife"(file:///C:/Users/Krishna/eclipse-workspace/LumiraDXblogAPI/src/test/resources/featureFiles/Operations%20related%20to%20blog%20categories/addNewCategory.feature:21)


Scenario Outline: Add a new category using name                                        # src/test/resources/featureFiles/Operations related to blog categories/addNewCategory.feature:35
  Given I have the number of categories present                                        # steps.steps.getCountOfCategories()
  When I set the POST service endpoint for adding new blog category with name "Travel" # steps.steps.addCategoryWithId(java.lang.String)
  Then check statusCode is 201                                                         # steps.steps.checkStatusCodeIs(int)
      java.lang.AssertionError: expected:<201> but was:<500>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:647)
	at org.junit.Assert.assertEquals(Assert.java:633)
	at steps.steps.checkStatusCodeIs(steps.java:52)
	at ✽.check statusCode is 201(file:///C:/Users/Krishna/eclipse-workspace/LumiraDXblogAPI/src/test/resources/featureFiles/Operations%20related%20to%20blog%20categories/addNewCategory.feature:29)

  And check response content type is "application/json"                                # steps.steps.responseContentTypeIs(java.lang.String)
  And check the number of categories is incremented by one                             # steps.steps.checkCategoryListSizeAfterAddingNewCategory()
  And check get response for the name of the last item to be "Travel"                  # steps.steps.checkIfAddedNameIsCorrect(java.lang.String)

Scenario: Add a new category using an existing id and name                                         # src/test/resources/featureFiles/Operations related to blog categories/addNewCategory.feature:37
  Given I set the POST service endpoint for adding new blog category with id 24 and name " Travel" # steps.steps.addCategoryWithIdAndName(int,java.lang.String)
  Then check statusCode is 500                                                                     # steps.steps.checkStatusCodeIs(int)
  Then check title in response contains "UNIQUE constraint failed: category.id"                    # steps.steps.checkTitleInResponseContains(java.lang.String)

Scenario: Delete a category with id in endpoint                                        # src/test/resources/featureFiles/Operations related to blog categories/deleteCategory.feature:4
  Given I set the DELETE service endpoint a categories with id 24 and receive response # steps.steps.deleteCategoryWithId(int)
  Then check statusCode is 204                                                         # steps.steps.checkStatusCodeIs(int)
  And check response content type is "application/json"                                # steps.steps.responseContentTypeIs(java.lang.String)
  And I set the GET service endpoint for  list of blog categories and receive response # null
  And check for id 24 in the response                                                  # steps.steps.checkForIdInTheResponse(int)

Scenario: Returns list of all blog categories                                          # src/test/resources/featureFiles/Operations related to blog categories/getCategoriesList.feature:3
  When I set the GET service endpoint for list of blog categories and receive response # steps.steps.getListOfCategories()
  Then check statusCode is 200                                                         # steps.steps.checkStatusCodeIs(int)
  And check response content type is "application/json"                                # steps.steps.responseContentTypeIs(java.lang.String)
  And validate response json schema with "categoriesList.json"                         # steps.steps.validateResponseJsonSchema(java.lang.String)

Scenario: Return a category with a list of posts                                               # src/test/resources/featureFiles/Operations related to blog categories/getListOfPostsForCategoryById.feature:3
  When I set the GET service endpoint for list of posts for category id 1 and receive response # steps.steps.getListOfPostsForCategoryId(int)
  Then check statusCode is 200                                                                 # steps.steps.checkStatusCodeIs(int)
  Then validate response json schema with "listOfPostsForaCategory.json"                       # steps.steps.validateResponseJsonSchema(java.lang.String)
  Then check categoryId in response is 1                                                       # steps.steps.checkCategoryIdInResponseIs(int)

Scenario: Updates a blog category                                                                                          # src/test/resources/featureFiles/Operations related to blog categories/updateCategory.feature:3
  Given I set the PUT service endpoint for updating a blog category with id 4 and pass the updated category name "Cooking" # steps.steps.updateBlogCategoryName(int,java.lang.String)
  Then check statusCode is 204                                                                                             # steps.steps.checkStatusCodeIs(int)
  Then check get response for the name of the item with id 4 to be "Cooking"                                               # steps.steps.checkGetResponseForTheNameOfTheItemWithIdToBe(int,java.lang.String)

Scenario: Update a category using an id that doesn't exist                                                                   # src/test/resources/featureFiles/Operations related to blog categories/updateCategory.feature:8
  Given I set the PUT service endpoint for updating a blog category with id 299 and pass the updated category name "Cycling" # steps.steps.updateBlogCategoryName(int,java.lang.String)
  Then check statusCode is 404                                                                                               # steps.steps.checkStatusCodeIs(int)
  Then check response contains "message" "A database result was required but none was found."                                # steps.steps.checkResponseMessage(java.lang.String,java.lang.String)
